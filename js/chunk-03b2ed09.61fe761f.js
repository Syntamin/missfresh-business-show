(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03b2ed09"],{"0dfe":function(t,e,a){},1128:function(t,e,a){},"4c79":function(t,e,a){"use strict";var n=a("bb36");e["a"]={searchProductsAll:function(t){return n["a"].get("/products/all",{params:t})},removeProduct:function(t){return n["a"].delete("/products/".concat(t))},addProduct:function(t){return n["a"].post("/products/add",t)},detailProduct:function(t){return n["a"].get("/products/".concat(t))},editProduct:function(t){return n["a"].put("/products/edit",t)}}},"8dda":function(t,e,a){"use strict";a("0dfe")},"974d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-list"},[a("div",{staticClass:"search-input"},[a("search-input",{on:{submitSearch:t.getSearch}})],1),a("a-button",[a("router-link",{attrs:{to:{name:"ProductAdd"}}},[t._v("添加商品")])],1),a("div",{staticClass:"products-table"},[a("products-table",{attrs:{data:t.tableData,pagination:t.page},on:{changePage:t.changePage,edit:t.editProduct,remove:t.removeProduct}})],1)],1)},r=[],c=a("5530"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-form-model",{attrs:{layout:"inline",model:t.Search},on:{submit:t.handleSubmit},nativeOn:{submit:function(t){t.preventDefault()}}},[a("a-form-model-item",{attrs:{label:"检索关键字"}},[a("a-input",{attrs:{placeholder:"请输入关键字"},model:{value:t.Search.searchWord,callback:function(e){t.$set(t.Search,"searchWord",e)},expression:"Search.searchWord"}})],1),a("a-form-model-item",{attrs:{label:"商品类目"}},[a("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"请选择类目",allowClear:""},on:{change:t.handleChange}},t._l(t.categoryList,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),a("a-form-model-item",[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[t._v(" 搜索 ")])],1)],1)},i=[],u=a("c405"),s={created:function(){var t=this;u["a"].getCategory().then((function(e){t.categoryList=e.data.data}))},data:function(){return{Search:{searchWord:"",category:""},categoryList:[]}},methods:{handleSubmit:function(){this.$emit("submitSearch",this.Search)},handleChange:function(t){this.Search.category=t}}},d=s,l=a("2877"),h=Object(l["a"])(d,o,i,!1,null,null,null),p=h.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"productsTable"},[a("a-table",{attrs:{columns:t.columns,"data-source":t.products,pagination:t.pagination},on:{change:t.onChange},scopedSlots:t._u([{key:"action",fn:function(e,n){return[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.editProduct(n)}}},[t._v("编辑")]),a("a-button",{attrs:{type:"danger"},on:{click:function(e){return t.removeProduct(n)}}},[t._v("删除")])]}}])})],1)},m=[],g=(a("d81d"),[{title:"ID",dataIndex:"id",key:"id"},{title:"标题",dataIndex:"title",key:"title"},{title:"描述",dataIndex:"desc",key:"desc 1",ellipsis:!0},{title:"类目",dataIndex:"category",key:"category 2"},{title:"预售价格",dataIndex:"price",key:"price 3"},{title:"折扣价格",dataIndex:"price_off",key:"price_off 4"},{title:"标签",dataIndex:"tags",key:"tags 5"},{title:"限制商品数量",dataIndex:"inventory",key:"inventory"},{title:"上架状态",dataIndex:"status",key:"status 7"},{title:"操作",dataIndex:"action",key:"x",width:200,scopedSlots:{customRender:"action"}}]),b={props:["data","pagination"],data:function(){return{columns:g}},computed:{products:function(){return this.data.map((function(t){return Object(c["a"])(Object(c["a"])({},t),{},{key:t.id})}))}},methods:{onChange:function(t){this.$emit("changePage",t)},editProduct:function(t){this.$emit("edit",t)},removeProduct:function(t){this.$emit("remove",t)}}},y=b,v=(a("f073"),Object(l["a"])(y,f,m,!1,null,null,null)),P=v.exports,S=a("4c79"),k={components:{SearchInput:p,ProductsTable:P},created:function(){this.getTableData()},data:function(){return{tableData:[],searchForm:{},page:{current:1,pageSize:10,showSizeChanger:!0,total:1}}},methods:{getSearch:function(t){this.searchForm=t,this.getTableData()},getTableData:function(){var t=this;S["a"].searchProductsAll(Object(c["a"])({page:this.page.current,size:this.page.pageSize},this.searchForm)).then((function(e){t.page.total=e.data.total,t.tableData=e.data.data}))},changePage:function(t){this.page.current=t.current,this.page.pageSize=t.pageSize,this.getTableData({})},editProduct:function(t){this.$router.push({name:"ProductEdit",params:{id:t.id}})},removeProduct:function(t){var e=this;S["a"].removeProduct(t.id).then((function(t){return"success"===t.status?e.getTableData():e.$confirm(t.msg)})).catch((function(t){return e.$confirm(t)}))}}},x=k,_=(a("8dda"),Object(l["a"])(x,n,r,!1,null,"8ee4f646",null));e["default"]=_.exports},c405:function(t,e,a){"use strict";var n=a("bb36");e["a"]={getCategory:function(t){return n["a"].get("/category/all",{params:t})}}},f073:function(t,e,a){"use strict";a("1128")}}]);
//# sourceMappingURL=chunk-03b2ed09.61fe761f.js.map